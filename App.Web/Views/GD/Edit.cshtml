@model App.Model.GestionDocumental.GD
@{
    var FileUpload = new App.Web.Controllers.GDController.FileUpload { ProcesoId = Model.ProcesoId, WorkflowId = Model.WorkflowId };
}

@Html.Action("Header", "Workflow", new { Model.WorkflowId })
<div class="container">

    @Html.Partial("_Message")

    <div class="row">
        <div class="col s12 m6 l6">
            @using (Html.BeginForm(null, null, FormMethod.Post, new { enctype = "multipart/form-data" }))
            {
                @Html.AntiForgeryToken()
                @Html.HiddenFor(q => Model.WorkflowId)
                @Html.HiddenFor(q => Model.ProcesoId)
                @Html.HiddenFor(q => Model.GDId)

                <div class="card">
                    <div class="card-content">
                        <span class="card-title">Información del ingreso</span>
                        <div class="section"></div>
                        <div class="row">
                            <div class="input-field col s12 m12 l12">
                                @Html.EditorFor(m => Model.FechaIngreso)
                                @Html.LabelFor(m => Model.FechaIngreso)
                                @Html.ValidationMessageFor(m => Model.FechaIngreso, "", new { @class = "red-text" })
                            </div>
                            <div class="input-field col s12 m12 l12">
                                @Html.TextAreaFor(m => Model.Materia, new { @class = "materialize-textarea" })
                                @Html.LabelFor(m => Model.Materia)
                                @Html.ValidationMessageFor(m => Model.Materia, "", new { @class = "red-text" })
                            </div>
                            <div class="input-field col s12 m12 l12">
                                @Html.TextAreaFor(m => Model.Referencia, new { @class = "materialize-textarea" })
                                @Html.LabelFor(m => Model.Referencia)
                                @Html.ValidationMessageFor(m => Model.Referencia, "", new { @class = "red-text" })
                            </div>
                            <div class="input-field col s12 m12 l12">
                                @Html.TextAreaFor(m => Model.Observacion, new { @class = "materialize-textarea" })
                                @Html.LabelFor(m => Model.Observacion)
                                @Html.ValidationMessageFor(m => Model.Observacion, "", new { @class = "red-text" })
                            </div>
                            @*<div class="input-field col s12 m12 l12">
                                    <label>
                                        @Html.CheckBoxFor(m => Model.EsReservado)
                                        <span>@Html.LabelFor(m => Model.EsReservado)</span>
                                    </label>
                                </div>*@
                            <div class="input-field col s12 m12 l12">
                                <div class="switch">
                                    <label>
                                        @Html.CheckBoxFor(m => Model.EsReservado)
                                        <span class="lever"></span>
                                        Documentación reservada?
                                    </label>
                                </div>
                            </div>
                        </div>
                        <button class="waves-effect waves-light btn blue" type="submit">Guardar</button>
                    </div>
                </div>
            }
        </div>
        <div class="col s12 m6 l6">
            @Html.Action("Documents", "Workflow", new { Model.WorkflowId })
            @Html.Action("History", "Workflow", new { Model.WorkflowId })
        </div>
    </div>
</div>

@Html.Action("Footer", "Workflow", new { Model.WorkflowId })

<script type="text/javascript">
    $(document).ready(function () {
        $('.modal').modal();
        $('select').formSelect();
        $('.tooltipped').tooltip();

        $("input[type='hidden']").each(function (index, element) {
            $(this).appendTo($(element).parent());
        });
    });
</script>